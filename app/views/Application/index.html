#{extends 'main.html' /}
#{set title:'JavaZone Talks' /}

<form class="grid_4 prefix_8" id="filter-form">Filter: <input name="filter" id="filter" value="" maxlength="30" size="25" type="text"></form>
  
#{list items:talks, as:'talk'}
  #{if talk_isFirst}
<nav class="grid_2 alpha">
<h3>Filter</h3>
    <div id="filter-tags">
    #{list items:tags, as:'tag'}
        <input type="checkbox" id="${tag}" /><label for="${tag}">${tag}</label>
    #{/list}
    </div>

  </nav>
  <div class="grid_10 content omega">
    #{/if}
    #{else}
  <div class="grid_10 prefix_2 content">
    #{/else}     
 <article id="${talk.id}">
        <header><h2>${talk.title}</h2></header>
        <a href="@{Talks.show(talk.id)}">
            <img src="${talk.thumbnail.url}" width="${talk.thumbnail.width}" height="${talk.thumbnail.height}" alt="${talk.title}">
        </a>
    <div class="grid_5 alpha info">
      <ul>
        #{list items:talk.speakers, as:'speaker'}
         <li><a href="@{Speakers.show(speaker.slug)}">${speaker.name}</a> <span class="symbol">☞</span></li>
         #{/list}
         <li>Abstract  <span class="symbol">☞</span><div class="abstract">${talk.talkAbstract.raw()} </div</li>
       </ul>
   </div>
       <div class="keywords grid_4 alpha">plays: <span class="plays">${talk.plays}</span> <span class="square">◼</span> likes: <span>${talk.likes}</span> <span class="square">◼</span> comments: <span>${talk.comments}</span></div>
    <div class="clear">
       </div>
       <footer>
            <ul>
            #{list items:talk.tags, as:'tag'}
                <li><a href="@{Application.filter(tag.name)}" title="filter by tag ${tag.name}" class="tag">${tag.name}</a></li>
            #{/list}
            </ul>
        </footer>
    </article>
    </div>       
#{/list}

